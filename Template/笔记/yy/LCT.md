# LCT

## 维护子树信息

**洛谷P4219 [BJOI2014]大融合**

n 个点， m 次操作。

`A x y`: 在 x y 之间连边，保证 x y不连通。

`Q x y`: 问经过边 x y 的简单路径数量。

**洛谷U19464 山村游历(Wander)** 

**洛谷P4299 首都**

n 个点， m 次操作。

`A x y`：在 x y 之间连边，保证 x y不连通。

`Q x`：询问当前编号为 x 的点所在联通块的重心（有多个选编号小的）。

`Xor`：询问当前所有联通块重心的异或和。

## 维护树上染色联通块

**洛谷P3703 [SDOI2017\]树点涂色**

n 个点的有根树， 1 是根。每个点有颜色，颜色两两不同。

定义一条路径的权值是：这条路径上的点（包括起点和终点）共有多少种不同的颜色。

`1 x`: 把点 x 到根节点的路径上所有的点染上一种没有用过的新颜色。

`2 x y`: 求 x 到 y 的路径的权值。

`3 x`: 在以 x 为根的子树中选择一个点，使得这个点到根节点的路径权值最大，求最大权值。

**QTREE6**

n 个点的树。每个点可以是黑色，可以是白色。初始时所有点都是黑色。

`0 u`：询问 u 所在联通块的大小。

`1 u`：翻转 u 的颜色。

**QTREE7**

一棵树, 每个点初始有个点权和颜色。

`0 u`：询问 u 所在联通块的点权的最大值。

`1 u`：翻转 u 的颜色。

`2 u w`：修改 u 的点权。