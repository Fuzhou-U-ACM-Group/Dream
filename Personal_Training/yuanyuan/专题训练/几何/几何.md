# 几何

## 旋转卡壳

<https://blog.csdn.net/qq_34921856/article/details/80690822>

## 半平面交

<https://www.cnblogs.com/Miracevin/p/10017333.html>

1、nlogn模板

2、n^2模板

## 模板题

三维点积、叉积几何意义？

1、【3D基础】<https://codeforces.com/gym/100523/attachments> K

判断 n 点是否共面，需要先找出不共线的三点。

2、【凸包直径】<http://poj.org/problem?id=2187>

3、【两凸包最近距离】<http://poj.org/problem?id=3608>

4、【凸包最小面积外接矩阵】<http://acm.hdu.edu.cn/showproblem.php?pid=5251>

5、【多边形是否有核】<http://poj.org/problem?id=3335>

6、【球面坐标】<http://poj.org/problem?id=3407>

- 地球上经纬度知识
  - 经度：本初子午线向东为东经，西为西经，西经为负，东经为正，-180° ~ 180°
  - 维度：赤道向北为北纬，赤道向南为南纬，南纬为负，北纬为正，-90° ~ 90°
  - 经纬度：1度 = 60分，1分 = 60秒
- 经纬度坐标与三维坐标相互转化
  - $x = cos(w) * cos(j) $
  - $y = cos(w) * sin(j)$
  - $z = sin(w)$
  - $w = acos(z)$
  - $j = asin(\frac{y} { \sqrt{1 - z ^2}}) $
- 两点的球面距离 = 两点所在大圆优弧对应圆心角 * 球半径
  - $ = acos(cos(wA) * cos(wB) * cos(jB - jA) + sin(wA) * sin(wB)) * R$
  - $ = acos(dot(A, B) / R / R) * R$

## 思维题

1、<https://codeforces.com/gym/100338/attachments> B

题面有错误，输入是浮点数。

取距离最近的两个端点，圆心是它们中点，半径是距离/2 + eps